<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="SVG Necromancer - AI-powered SVG tool. Generate, Fix, Animate, and Convert vectors using Gemini AI.">
  <meta http-equiv="Content-Security-Policy"
        content="default-src 'self';
                 script-src 'self';
                 style-src 'self' https://fonts.googleapis.com;
                 font-src https://fonts.gstatic.com;
                 img-src 'self' data: blob:;
                 connect-src https://generativelanguage.googleapis.com;">
  <title>SVG Necromancer | ãƒ™ã‚¯ã‚¿ãƒ¼ã‚’è˜‡ã‚‰ã›ã‚‹</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="css/styles.css">
</head>

<body>
  <!-- Skip Link -->
  <a href="#main-content" class="skip-link">Skip to main content</a>

  <div class="container">
    <!-- Header -->
    <header class="header" role="banner">
      <div class="header-left">
        <h1 class="logo">Necromancer</h1>
        <span class="tagline-jp" lang="ja" aria-label="Resurrect your vectors">ãƒ™ã‚¯ã‚¿ãƒ¼ã‚’è˜‡ã‚‰ã›ã‚‹</span>
      </div>
      <button id="apiKeyBtn" class="key-btn empty" aria-label="Add API Key">
        ğŸ”‘ Add API Key
      </button>
    </header>

    <!-- API Key Modal -->
    <div id="keyModal" class="modal-overlay" role="dialog" aria-modal="true" aria-labelledby="modal-title" aria-describedby="modal-desc">
      <div class="modal">
        <button class="modal-close" aria-label="Close dialog">&times;</button>
        <h3 id="modal-title">Gemini API Key</h3>
        <p id="modal-desc">Get your free key from <a href="https://aistudio.google.com/app/apikey" target="_blank" rel="noopener">Google AI Studio</a></p>
        <label for="apiKeyInput" class="visually-hidden">API Key</label>
        <input type="password" id="apiKeyInput" class="form-input" placeholder="AIza..." autocomplete="off">
        <div class="modal-buttons">
          <button id="saveKeyBtn" class="btn btn-primary">Save Key</button>
          <button id="clearKeyBtn" class="btn btn-secondary">Clear</button>
          <button id="cancelKeyBtn" class="btn btn-ghost">Cancel</button>
        </div>
      </div>
    </div>

    <!-- Tab Navigation -->
    <nav class="tabs" role="tablist" aria-label="SVG tools">
      <button class="tab" role="tab" id="tab-generate" aria-selected="true" aria-controls="panel-generate" data-tab="generate">
        <span class="tab-icon" aria-hidden="true">âœ¨</span>
        <span class="tab-label">Generate</span>
        <span class="tab-jp" lang="ja" aria-hidden="true">å¬å–š</span>
      </button>
      <button class="tab" role="tab" id="tab-view" aria-selected="false" aria-controls="panel-view" data-tab="view" tabindex="-1">
        <span class="tab-icon" aria-hidden="true">ğŸ‘</span>
        <span class="tab-label">View/Edit</span>
        <span class="tab-jp" lang="ja" aria-hidden="true">è¡¨ç¤º</span>
      </button>
      <button class="tab" role="tab" id="tab-fix" aria-selected="false" aria-controls="panel-fix" data-tab="fix" tabindex="-1">
        <span class="tab-icon" aria-hidden="true">ğŸ©¹</span>
        <span class="tab-label">Fix</span>
        <span class="tab-jp" lang="ja" aria-hidden="true">ä¿®å¾©</span>
      </button>
      <button class="tab" role="tab" id="tab-animate" aria-selected="false" aria-controls="panel-animate" data-tab="animate" tabindex="-1">
        <span class="tab-icon" aria-hidden="true">ğŸ¬</span>
        <span class="tab-label">Animate</span>
        <span class="tab-jp" lang="ja" aria-hidden="true">å‹•ä½œ</span>
      </button>
      <button class="tab" role="tab" id="tab-convert" aria-selected="false" aria-controls="panel-convert" data-tab="convert" tabindex="-1">
        <span class="tab-icon" aria-hidden="true">âš¡</span>
        <span class="tab-label">Convert</span>
        <span class="tab-jp" lang="ja" aria-hidden="true">å¤‰æ›</span>
      </button>
    </nav>

    <!-- Status Bar -->
    <div id="statusBar" class="status-bar" role="status" aria-live="polite" aria-atomic="true"></div>

    <!-- Main Content -->
    <main id="main-content" class="main">
      <!-- Left Panel -->
      <div class="left-panel">
        <!-- Generate Panel -->
        <div id="panel-generate" class="tab-panel active" role="tabpanel" aria-labelledby="tab-generate">
          <label for="promptInput" class="form-label">Describe your SVG</label>
          <textarea id="promptInput" class="form-textarea" placeholder="A minimalist mountain logo with sun rays..." aria-describedby="prompt-help"></textarea>
          <span id="prompt-help" class="visually-hidden">Describe the SVG you want to generate. Be specific about colors, shapes, and style.</span>
          <button id="generateBtn" class="btn btn-primary">å¬å–š Generate</button>
        </div>

        <!-- View Panel -->
        <div id="panel-view" class="tab-panel" role="tabpanel" aria-labelledby="tab-view">
          <p class="help-text">Paste or edit your SVG code below. Preview updates live.</p>
        </div>

        <!-- Fix Panel -->
        <div id="panel-fix" class="tab-panel" role="tabpanel" aria-labelledby="tab-fix">
          <p class="help-text">Paste your broken SVG below, then click Fix to resurrect it.</p>
          <button id="fixBtn" class="btn btn-primary">ğŸ©¹ ä¿®å¾© Fix SVG</button>
        </div>

        <!-- Animate Panel -->
        <div id="panel-animate" class="tab-panel" role="tabpanel" aria-labelledby="tab-animate">
          <label for="animationType" class="form-label">Animation Type</label>
          <select id="animationType" class="form-select">
            <option value="">Select animation...</option>
            <option value="pulse">Pulse / Breathe</option>
            <option value="spin">Spin / Rotate</option>
            <option value="bounce">Bounce</option>
            <option value="fade">Fade In/Out</option>
            <option value="draw">Draw / Reveal</option>
            <option value="float">Float / Hover</option>
            <option value="shake">Shake / Wiggle</option>
            <option value="glow">Glow</option>
          </select>
          <button id="animateBtn" class="btn btn-primary">ğŸ¬ Apply Animation</button>
        </div>

        <!-- Convert Panel -->
        <div id="panel-convert" class="tab-panel" role="tabpanel" aria-labelledby="tab-convert">
          <label for="convertFormat" class="form-label">Convert To</label>
          <select id="convertFormat" class="form-select">
            <option value="react">React Component</option>
            <option value="vue">Vue Component</option>
            <option value="base64">Base64 Data URI</option>
            <option value="datauri">URL Encoded Data URI</option>
            <option value="optimized">Optimized/Minified</option>
          </select>
          <button id="convertBtn" class="btn btn-primary">âš¡ å¤‰æ› Convert</button>
          <div id="convertedOutput" class="converted-output">
            <div class="converted-header">
              <span>Output</span>
              <button id="copyConvertedBtn" class="btn-small">Copy</button>
            </div>
            <pre id="convertedCode" class="converted-code"></pre>
          </div>
        </div>

        <!-- Code Editor -->
        <div class="editor-section">
          <div class="editor-header">
            <span class="editor-title">SVG Code</span>
            <div class="editor-actions">
              <button id="copyCodeBtn" class="btn-small">Copy</button>
              <button id="clearCodeBtn" class="btn-small">Clear</button>
            </div>
          </div>
          <label for="svgEditor" class="visually-hidden">SVG Code Editor</label>
          <textarea id="svgEditor" class="code-editor" placeholder="<svg>...</svg>" spellcheck="false" aria-label="SVG code editor"></textarea>
        </div>
      </div>

      <!-- Right Panel -->
      <div class="right-panel">
        <div class="preview-header">
          <span>Preview</span>
          <span class="preview-jp" lang="ja">ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼</span>
        </div>
        <div id="previewArea" class="preview-area" aria-label="SVG Preview">
          <div class="preview-placeholder">
            <div class="empty-state-icon">âœ¨</div>
            <div class="empty-state-title">No SVG Yet</div>
            <div class="empty-state-desc">Generate or paste SVG code to see it come to life</div>
          </div>
        </div>
        <div class="export-buttons">
          <button id="downloadSvgBtn" class="btn btn-export">Download SVG</button>
          <button id="downloadPngBtn" class="btn btn-export">Download PNG</button>
        </div>
      </div>
    </main>

    <!-- Footer -->
    <footer class="footer" role="contentinfo">
      <div class="footer-brand">
        <span class="footer-badge" lang="ja">è˜‡ç”Ÿ</span>
        <span>Resurrected by</span>
        <a href="https://undeadlist.com" target="_blank" rel="noopener" class="footer-link">UndeadList</a>
      </div>
      <div class="footer-tagline">The indie software flea market</div>
    </footer>
  </div>

  <script type="module" src="js/main.js"></script>
</body>
</html>
